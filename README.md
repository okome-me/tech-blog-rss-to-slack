# tech-blog-rss-to-slack

国内テックブログ・AI企業ブログのRSSを定期取得し、新着記事をSlackの固定チャンネルへ **1記事ずつ自動投稿** する仕組みです。  
サーバを用意せず、GitHub Actions の無料枠のみで動作します。

本リポジトリでは **通知済み管理に GitHub Actions のキャッシュを使用** し、  
**直近1時間以内に通知した記事のみを重複排除** する設計になっています。  
リポジトリへの push は行いません。

## できること

- 約30サイト以上のテックブログ / AI企業ブログのRSSを監視
- 新着記事のみを検出し、直近1時間は重複通知しない
- 1記事ごとにSlackへ即時投稿
- サーバレス（GitHub Actionsのみ）
- リポジトリへの書き込み権限不要
- 無料枠で運用可能

## 全体構成

GitHub Actions が一定間隔で起動し、RSSを取得します。  
通知済みの記事は `notified.json` に「URL → 通知時刻（UNIX秒）」として保存され、  
GitHub Actions のキャッシュ機構で次回実行時に復元されます。

通知判定は「直近1時間以内に通知したかどうか」のみを見ます。  
1時間を過ぎた記事は自動的に忘却されます。

## 前提条件

- GitHubアカウント
- Slackワークスペースの管理権限（Incoming Webhook作成用）

## セットアップ手順

1. このリポジトリを作成する
2. Slackで Incoming Webhook を作成し、通知したいチャンネルに紐づける
3. Webhook URL を GitHub リポジトリの Secrets に  
   `SLACK_WEBHOOK_URL` という名前で登録する
4. `feeds.txt` に取得したいRSS URLを1行ずつ記載する
5. GitHub Actions を有効化する

以上で、定期的に新着記事がSlackへ自動投稿されます。

## ファイル構成

- `feeds.txt`  
  監視対象のRSS/Atom URL一覧。  
  URLは1行に1つ。コメントは行頭 `#` のみ。

- `run.py`  
  RSS取得、直近1時間の重複判定、Slack投稿を行うメインスクリプト。

- `notified.json`  
  通知済み記事の一時状態ファイル。  
  GitHub Actions のキャッシュとしてのみ利用され、リポジトリには push されません。

- `.github/workflows/rss_to_slack.yml`  
  定期実行・キャッシュ復元を行う GitHub Actions 定義。

## 重複排除の仕様

- 記事URLをキーに通知時刻を保存
- 直近1時間以内に通知した記事は再通知しない
- 1時間を過ぎた履歴は自動削除
- GitHub Actions キャッシュを利用するため push 権限は不要

## 投稿形式

Slackには以下の形式で投稿されます。

```
記事タイトル
記事URL
（ブログ名）
```

## 実行間隔の変更

`.github/workflows/rss_to_slack.yml` の `cron` を変更してください。

例：10分ごと

```
*/10 * * * *
```

## 注意事項

- 初回実行時は新着扱いの記事が多く検出される可能性があります
- まとめRSSを含めると投稿数が多くなる場合があります
- Slackの連投制限回避のため、投稿間に短い待ち時間を入れています
- RSSが存在しないサイトには対応していません

## 想定用途

- 社内の技術キャッチアップ用Slackチャンネル
- AI・生成AI・LLM系情報の自動収集
- 技術広報・採用向け情報ウォッチ
- 個人・小規模チームの学習用途
